{"version":3,"file":"event-notification-panel.js","mappings":"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","sources":["webpack://@webhandle/event-notification-panel/./node_modules/tripartite/active-element.js","webpack://@webhandle/event-notification-panel/./node_modules/tripartite/calculate-relative-path.js","webpack://@webhandle/event-notification-panel/./node_modules/tripartite/evaluate-in-context.js","webpack://@webhandle/event-notification-panel/./node_modules/tripartite/execution-context.js","webpack://@webhandle/event-notification-panel/./node_modules/tripartite/resolve-data-path.js","webpack://@webhandle/event-notification-panel/./node_modules/tripartite/tripartite.js","webpack://@webhandle/event-notification-panel/./views/@webhandle/event-notification-panel/panels/cancel-button.tri","webpack://@webhandle/event-notification-panel/./views/@webhandle/event-notification-panel/panels/cancel-mask.tri","webpack://@webhandle/event-notification-panel/./views/@webhandle/event-notification-panel/panels/expand-more.tri","webpack://@webhandle/event-notification-panel/./views/@webhandle/event-notification-panel/panels/message-holder.tri","webpack://@webhandle/event-notification-panel/./views/@webhandle/event-notification-panel/panels/notification-top.tri","webpack://@webhandle/event-notification-panel/./views/@webhandle/event-notification-panel/panels/progress-message.tri","webpack://@webhandle/event-notification-panel/./views/@webhandle/event-notification-panel/panels/simple-message.tri","webpack://@webhandle/event-notification-panel/webpack/bootstrap","webpack://@webhandle/event-notification-panel/webpack/runtime/define property getters","webpack://@webhandle/event-notification-panel/webpack/runtime/global","webpack://@webhandle/event-notification-panel/webpack/runtime/hasOwnProperty shorthand","webpack://@webhandle/event-notification-panel/./client-js/add-js-templates.mjs","webpack://@webhandle/event-notification-panel/./client-js/init.mjs","webpack://@webhandle/event-notification-panel/./node_modules/@webhandle/backbone-view/client-js/event-entry-mapper.js","webpack://@webhandle/event-notification-panel/./node_modules/@webhandle/backbone-view/client-js/view.js","webpack://@webhandle/event-notification-panel/./node_modules/@webhandle/backbone-view/client-js/generate-id.js","webpack://@webhandle/event-notification-panel/./node_modules/@webhandle/backbone-view/client-js/extract-event-names.js","webpack://@webhandle/event-notification-panel/./node_modules/@webhandle/minimal-browser-event-emitter/client-js/index.js","webpack://@webhandle/event-notification-panel/./client-js/notification-status.mjs","webpack://@webhandle/event-notification-panel/./client-js/event-notification-view.mjs","webpack://@webhandle/event-notification-panel/./client-js/event-notification-panel.mjs","webpack://@webhandle/event-notification-panel/./client-js/webhandle-env-setup.mjs","webpack://@webhandle/event-notification-panel/./client-js/notification.mjs"],"sourcesContent":["\nconst defaultTemplateName = 'defaultTemplate'\n\nclass ActiveElement {\n\tconstructor(conditionalExpression, dataExpression, handlingExpression, tripartite) {\n\t\tthis.conditionalExpression = conditionalExpression\n\t\tthis.dataExpression = dataExpression\n\t\tthis.handlingExpression = handlingExpression || defaultTemplateName\n\t\tthis.tripartite = tripartite\n\t}\n}\n\nmodule.exports = ActiveElement","var calculateRelativePath = function(parentPath, currentPath) {\n\tif(!parentPath) {\n\t\treturn currentPath\n\t}\n\tif(!currentPath) {\n\t\treturn currentPath\n\t}\n\t\n\tif(currentPath.indexOf('../') != 0 && currentPath.indexOf('./') != 0) {\n\t\treturn currentPath\n\t}\n\t\n\tvar pparts = parentPath.split('/')\n\tvar cparts = currentPath.split('/')\n\t\n\t// trim any starting blank sections\n\twhile(pparts.length && !pparts[0]) {\n\t\tpparts.shift()\n\t}\n\twhile(cparts.length && !cparts[0]) {\n\t\tcparts.shift()\n\t}\n\t\n\tif(currentPath.indexOf('../') == 0 ) {\n\t\twhile(cparts.length && cparts[0] == '..') {\n\t\t\tpparts.pop()\n\t\t\tcparts.shift()\n\t\t}\n\t\tpparts.pop()\n\t\t\n\t\twhile(cparts.length) {\n\t\t\tpparts.push(cparts.shift())\n\t\t}\n\t\treturn pparts.join('/')\n\t}\n\tif(currentPath.indexOf('./') == 0 ) {\n\t\tcparts.shift()\n\t\tpparts.pop()\n\t\twhile(cparts.length) {\n\t\t\tpparts.push(cparts.shift())\n\t\t}\n\t\treturn pparts.join('/')\n\t}\n\t\n\treturn currentPath\n}\n\nmodule.exports = calculateRelativePath","\nconst resolveDataPath = require('./resolve-data-path')\nfunction evaluateInContext(context, expression, dataFunctions, globalData) {\n\tif (!expression) {\n\t\treturn null\n\t}\n\tif (typeof expression === 'string') {\n\t\texpression = expression.trim()\n\t}\n\n\tif (expression === '$this' || expression === 'this') {\n\t\treturn context\n\t}\n\tif (typeof context === 'object' && expression in context) {\n\t\treturn context[expression]\n\t}\n\tif (expression === '\"\"' || expression === \"''\") {\n\t\treturn ''\n\t}\n\tlet resolved = resolveDataPath(context, expression)\n\tif (resolved === null || resolved === undefined) {\n\t\tresolved = resolveDataPath({\n\t\t\t'$globals': globalData\n\t\t}, expression)\n\t}\n\tif (resolved === null || resolved === undefined) {\n\t\tresolved = _evaluateInContext.call(context, context, expression, dataFunctions, globalData)\n\t}\n\treturn resolved\n}\n\nlet evalFunction = new Function('additionalContexts',\n\t`with ({\n\t\t'$globals': additionalContexts.globalData\n\t}) {\n\t\twith (additionalContexts.dataFunctions) {\n\t\t\twith (additionalContexts.context) {\n\t\t\t\ttry {\n\t\t\t\t\treturn eval(additionalContexts.expression);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}`\n)\n\nfunction _evaluateInContext(context, expression, dataFunctions, globalData) {\n\tdataFunctions = dataFunctions || {}\n\tglobalData = globalData || {}\n\n\n\tlet result = evalFunction.call(this, {\n\t\tglobalData: globalData\n\t\t, dataFunctions: dataFunctions\n\t\t, context: context\n\t\t, expression: expression\n\t})\n\treturn result\n}\n\nmodule.exports = evaluateInContext","\nlet ActiveElement = require('./active-element')\nvar calculateRelativePath = require('./calculate-relative-path')\nlet evaluateInContext = require('./evaluate-in-context')\n\nclass ExecutionContext {\n\t/**\n\t * \n\t * @param {Tripartite} tripartite \n\t * @param {function} template \n\t * @param {stream} [destination]\n\t */\n\tconstructor(tripartite, template, data = {}, destination = '', dataFunctions = {}) {\n\t\tthis.tripartite = tripartite\n\t\tthis.template = template\n\t\tthis.destination = destination\n\t\tthis.initialData = data\n\t\tthis.currentData = []\n\t\tthis.dataFunctions = dataFunctions\n\t\tthis.continueOnTripartiteError = true\n\t}\n\n\t/**\n\t * \n\t * @param {function} [callback] called when done\n\t * @returns Returns the string of stream as the result of the operation\n\t */\n\trun(callback) {\n\t\tlet ourCallback\n\t\tif (callback) {\n\t\t\tourCallback = () => {\n\t\t\t\tcallback(null, this.destination)\n\t\t\t}\n\t\t}\n\n\t\tthis._run(this.template, this.initialData, ourCallback)\n\n\t\treturn this.destination\n\t}\n\n\t_resolveHandlingExpression(template, handlingExpression, data) {\n\t\tif (!handlingExpression) {\n\t\t\thandlingExpression = defaultTemplateName\n\t\t}\n\t\tif (handlingExpression.charAt(0) == '$') {\n\t\t\t// Indicates the handling espression is not a literal template name but is a string which should\n\t\t\t// be evaluated to determine the template name\n\t\t\thandlingExpression = evaluateInContext(data, handlingExpression.substring(1), this.dataFunctions, this.initialData)\n\t\t}\n\t\t// resolve relative template paths\n\t\tif (handlingExpression.indexOf('./') == 0 || handlingExpression.indexOf('../') == 0) {\n\t\t\thandlingExpression = calculateRelativePath(template.templateMeta.name, handlingExpression)\n\t\t}\n\n\t\treturn handlingExpression\n\t}\n\n\t_run(template, data, callback) {\n\t\tlet parts = [...template.parts].reverse()\n\t\tconst processParts = () => {\n\t\t\tif (parts.length > 0) {\n\t\t\t\tlet part = parts.pop()\n\t\t\t\tif (typeof part === 'string') {\n\t\t\t\t\tthis.output(part)\n\t\t\t\t\tprocessParts()\n\t\t\t\t}\n\t\t\t\telse if (part instanceof ActiveElement) {\n\t\t\t\t\tlet conditional = part.conditionalExpression || part.dataExpression\n\t\t\t\t\tlet conditionalResult = false\n\t\t\t\t\tlet resultData\n\t\t\t\t\tif (conditional == null || conditional == undefined || conditional === '') {\n\t\t\t\t\t\t// Because if they didn't specify a condition or data, they probably \n\t\t\t\t\t\t// just want the template to be run as is\n\t\t\t\t\t\tconditionalResult = true\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(part.conditionalExpression) {\n\t\t\t\t\t\t\tlet result = evaluateInContext(data, part.conditionalExpression, this.dataFunctions, this.initialData)\n\t\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\t\tconditionalResult = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// This means we're evaluating the data expression to see if we should run the template\n\t\t\t\t\t\t\tresultData = evaluateInContext(data, part.dataExpression, this.dataFunctions, this.initialData)\n\t\t\t\t\t\t\tif(resultData === null || resultData === undefined) {\n\t\t\t\t\t\t\t\tconditionalResult = false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (typeof resultData === 'number') {\n\t\t\t\t\t\t\t\t// if the result is a number, any number, we want to output it\n\t\t\t\t\t\t\t\t// unless the number is from the conditional expression, in which\n\t\t\t\t\t\t\t\t// case we want to evaluate it as truthy\n\t\t\t\t\t\t\t\tconditionalResult = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(Array.isArray(resultData) && resultData.length > 0) {\n\t\t\t\t\t\t\t\tconditionalResult = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(resultData) {\n\t\t\t\t\t\t\t\tconditionalResult = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (conditionalResult) {\n\t\t\t\t\t\tif (part.dataExpression && resultData === undefined) {\n\t\t\t\t\t\t\tresultData = evaluateInContext(data, part.dataExpression, this.dataFunctions, this.initialData)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(resultData === null || resultData === undefined) {\n\t\t\t\t\t\t\tresultData = data\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet handlingExpression = this._resolveHandlingExpression(template, part.handlingExpression, data)\n\t\t\t\t\t\tlet handlingTemplate\n\t\t\t\t\t\tlet children = (Array.isArray(resultData) ? [...resultData] : [resultData]).reverse()\n\t\t\t\t\t\tconst applyTemplate = () => {\n\t\t\t\t\t\t\tif (children.length > 0) {\n\t\t\t\t\t\t\t\tlet child = children.pop()\n\t\t\t\t\t\t\t\tthis._run(handlingTemplate, child, () => {\n\t\t\t\t\t\t\t\t\tapplyTemplate()\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(handlingExpression in this.tripartite.templates) {\n\t\t\t\t\t\t\thandlingTemplate = this.tripartite.getTemplate(handlingExpression)\n\t\t\t\t\t\t\tif (handlingTemplate) {\n\t\t\t\t\t\t\t\tapplyTemplate()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t// the template has been loaded before but is empty\n\t\t\t\t\t\t\t\tif (this.continueOnTripartiteError) {\n\t\t\t\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.tripartite.loadTemplate(handlingExpression, (template) => {\n\t\t\t\t\t\t\t\tif (!template) {\n\t\t\t\t\t\t\t\t\tlet msg = 'Could not load template: ' + handlingExpression\n\t\t\t\t\t\t\t\t\tconsole.error(msg)\n\t\t\t\t\t\t\t\t\tif (this.continueOnTripartiteError) {\n\t\t\t\t\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tlet err = new Error(msg)\n\t\t\t\t\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\t\t\t\t\tcallback(err)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tthrow err\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\thandlingTemplate = template\n\t\t\t\t\t\t\t\t\tapplyTemplate()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (typeof part === 'function') {\n\t\t\t\t\tif(part.write) {\n\t\t\t\t\t\tpart.write(data, this.destination, () => {\n\t\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t\t})\n\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.output(part(data))\n\t\t\t\t\t\tprocessParts()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprocessParts()\n\t}\n\n\t/**\n\t * \n\t * @param {string} value \n\t */\n\toutput(value) {\n\t\tif(value === null || value === undefined) {\n\t\t\treturn\n\t\t}\n\t\tif (typeof this.destination === 'string') {\n\t\t\tthis.destination += value\n\t\t}\n\t\telse if (this.destination.write) {\n\t\t\tthis.destination.write(value)\n\t\t}\n\t}\n}\n\n\nmodule.exports = ExecutionContext","/*\nfunction resolveDataPath(data, path) {\n\tif(data === null || data === undefined) {\n\t\treturn data\n\t}\n\tlet parts\n\tif(typeof path === 'string') {\n\t\tparts = path.trim().split('.')\n\t}\n\telse if(Array.isArray(path)) {\n\t\tparts = path\n\t}\n\t\n\tlet name = parts.shift()\n\tif(name.indexOf(' ') > -1) {\n\t\t// there's a space, which means it's really unlikely it's a property\n\t\treturn null\n\t}\n\tlet child\n\tif(name === 'this' || name === '$this') {\n\t\tchild = data\n\t}\n\telse if(typeof data === 'object') {\n\t\tif(name in data) {\n\t\t\tchild = data[name]\n\t\t}\n\t}\n\tif(parts.length > 0) {\n\t\treturn resolveDataPath(child, parts)\n\t}\n\telse {\n\t\treturn child\n\t}\n} */\nfunction resolveDataPath(data, path) {\n\tif (data === null || data === undefined) {\n\t\treturn data\n\t}\n\tlet parts\n\tif (typeof path === 'string') {\n\t\tparts = path.trim().split('.')\n\t}\n\telse if (Array.isArray(path)) {\n\t\tparts = path\n\t}\n\n\twhile (parts.length > 0) {\n\t\tlet name = parts.shift()\n\t\tif (name.indexOf(' ') > -1) {\n\t\t\t// there's a space, which means it's really unlikely it's a property\n\t\t\treturn null\n\t\t}\n\t\tlet child\n\t\tif (name === 'this' || name === '$this') {\n\t\t\tchild = data\n\t\t}\n\t\telse if (typeof data === 'object') {\n\t\t\tif (name in data) {\n\t\t\t\tchild = data[name]\n\t\t\t}\n\t\t}\n\t\tif (parts.length == 0) {\n\t\t\treturn child\n\t\t}\n\t\tdata = child\n\t}\n}\n\nmodule.exports = resolveDataPath","\n\n\nif (typeof String.prototype.trim !== 'function') {\n\tString.prototype.trim = function () {\n\t\treturn this.replace(/^\\s+|\\s+$/g, '');\n\t}\n}\n\n\nfunction isStream(stream) {\n\treturn stream !== null\n\t\t&& typeof stream === 'object'\n\t\t&& typeof stream.pipe === 'function';\n}\n\n\nfunction isTemplate(obj) {\n\tif (!obj) {\n\t\treturn false\n\t}\n\tif (typeof obj !== 'function') {\n\t\treturn false\n\t}\n\tif (!obj.write) {\n\t\treturn false\n\t}\n\tif (!obj.parts) {\n\t\treturn false\n\t}\n\tif (!obj.templateMeta) {\n\t\treturn false\n\t}\n\n\treturn true\n}\n\nlet ExecutionContext = require('./execution-context')\nlet ActiveElement = require('./active-element')\n\n\nclass Tripartite {\n\tconstructor(options = {}) {\n\t\tthis.templates = {\n\t\t\tdefaultTemplate: this._makeTemplate(function (thedata) {\n\t\t\t\treturn '' + thedata;\n\t\t\t})\n\t\t}\n\t\tlet { constants = {\n\t\t\ttemplateBoundary: '__',\n\t\t\ttemplateNameBoundary: '##'\n\t\t} } = options\n\t\tthis.constants = constants\n\n\t\t// This object (if set) will receive the template functions parsed from a script\n\t\t// I want to be able to call my templates as global functions, so I've set it\n\t\t// to be the window object\n\t\tthis.secondaryTemplateFunctionObject = options.secondaryTemplateFunctionObject\n\n\t\tthis.loaders = options.loaders || []\n\n\t\tthis.dataFunctions = options.dataFunction || {}\n\t}\n\n\t_makeTemplate(transformationFunction) {\n\t\tif (isTemplate(transformationFunction)) {\n\t\t\treturn transformationFunction\n\t\t}\n\t\tlet tri = this\n\t\tlet f = function (thedata) {\n\t\t\tlet stream = null\n\t\t\tlet options = null\n\t\t\tlet callback = null\n\t\t\tfor (let i = 1; i < arguments.length; i++) {\n\t\t\t\tlet arg = arguments[i]\n\t\t\t\tif (isStream(arg)) {\n\t\t\t\t\tstream = arg\n\t\t\t\t}\n\t\t\t\telse if(typeof arg === 'function') {\n\t\t\t\t\tcallback = arg\n\t\t\t\t}\n\t\t\t\telse if(typeof arg === 'object') {\n\t\t\t\t\toptions = arg\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn f.write(thedata, stream, callback, options)\n\t\t}\n\t\tf.write = function (thedata, stream, callback, options = {}) {\n\t\t\tif(transformationFunction && transformationFunction.write) {\n\t\t\t\t// if it's not a template, but has a write method, invoke the right method directly\n\t\t\t\treturn transformationFunction.write.apply(transformationFunction, arguments)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet dest = stream || ''\n\n\t\t\t\tlet context = new ExecutionContext(tri, f, thedata, dest, tri.dataFunctions)\n\t\t\t\tif (options && 'continueOnTripartiteError' in options) {\n\t\t\t\t\tcontext.continueOnTripartiteError = options.continueOnTripartiteError\n\t\t\t\t}\n\n\t\t\t\treturn context.run(callback)\n\t\t\t}\n\t\t}\n\t\tf.parts = []\n\t\tif (transformationFunction && typeof transformationFunction === 'function') {\n\t\t\tf.parts.push(transformationFunction)\n\t\t}\n\t\tf.templateMeta = {}\n\t\treturn f\n\t}\n\n\taddTemplate(name, template) {\n\t\tif (typeof template === 'string') {\n\t\t\ttemplate = this.parseTemplate(template);\n\t\t}\n\t\telse if (typeof template === 'function') {\n\t\t\ttemplate = this._makeTemplate(template)\n\t\t}\n\n\t\tthis.templates[name] = template;\n\t\ttemplate.templateMeta = template.templateMeta || {}\n\t\ttemplate.templateMeta.name = name\n\t\treturn template;\n\t}\n\n\tcreateBlank() {\n\t\treturn new Tripartite()\n\t}\n\n\tgetTemplate(name) {\n\t\treturn this.templates[name]\n\t}\n\n\tloadTemplate(name, callback) {\n\t\tif (name in this.templates) {\n\t\t\tcallback(this.templates[name])\n\t\t}\n\t\telse {\n\t\t\tlet tri = this\n\t\t\tlet count = this.loaders.length\n\t\t\tlet done = false\n\n\t\t\tif (count == 0) {\n\t\t\t\ttri.templates[name] = null\n\t\t\t\tcallback(tri.getTemplate(name))\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.loaders.forEach(loader => {\n\t\t\t\t\tif (done) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tloader(name, template => {\n\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcount--\n\t\t\t\t\t\tif (template) {\n\t\t\t\t\t\t\tdone = true\n\t\t\t\t\t\t\ttri.addTemplate(name, template)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (count == 0) {\n\t\t\t\t\t\t\tdone = true\n\t\t\t\t\t\t\ttri.templates[name] = null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\tcallback(tri.getTemplate(name))\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\tparseTemplateScript(tx) {\n\t\tvar tks = this.tokenizeTemplateScript(tx);\n\t\t/* current template name */\n\t\tvar ctn = null;\n\t\tfor (var i = 0; i < tks.length; i++) {\n\t\t\tvar token = tks[i];\n\t\t\tif (token.active) {\n\t\t\t\tctn = token.content;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (ctn) {\n\t\t\t\t\tvar template = this.addTemplate(ctn, this.stripTemplateWhitespace(token.content));\n\t\t\t\t\tif (this.secondaryTemplateFunctionObject) {\n\t\t\t\t\t\tthis.secondaryTemplateFunctionObject[ctn] = template;\n\t\t\t\t\t}\n\t\t\t\t\tctn = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tstripTemplateWhitespace(txt) {\n\t\tvar i = txt.indexOf('\\n');\n\t\tif (i > -1 && txt.substring(0, i).trim() == '') {\n\t\t\ttxt = txt.substring(i + 1);\n\t\t}\n\t\ti = txt.lastIndexOf('\\n');\n\t\tif (i > -1 && txt.substring(i).trim() == '') {\n\t\t\ttxt = txt.substring(0, i);\n\t\t}\n\t\treturn txt;\n\t}\n\n\t/* simple template */\n\t_createActiveElement(/* conditional expression */ cd, data, /* handling expression */ hd, tripartite, templateMeta) {\n\t\tlet el = new ActiveElement(cd, data, hd, tripartite);\n\t\tel.templateMeta = templateMeta\n\t\treturn el\n\t}\n\tpt(tx) {\n\t\treturn this.parseTemplate(tx)\n\t}\n\t/* parse template */\n\tparseTemplate(tx) {\n\t\tvar tks = this.tokenizeTemplate(tx);\n\t\tlet t = this._makeTemplate()\n\t\tvar templateMeta = t.templateMeta\n\n\t\tfor (let tk of tks) {\n\t\t\tif (tk.active) {\n\t\t\t\tt.parts.push(this.tokenizeActivePart(tk.content, templateMeta));\n\t\t\t}\n\t\t\telse if (tk.content) {\n\t\t\t\tt.parts.push(tk.content);\n\t\t\t}\n\t\t}\n\n\t\treturn t\n\t}\n\n\ttokenizeActivePart(tx, templateMeta) {\n\t\tvar con = null;\n\t\tvar dat = null;\n\t\tvar han = null;\n\n\t\t/* condition index */\n\t\tvar ci = tx.indexOf('??');\n\t\tif (ci > -1) {\n\t\t\tcon = tx.substring(0, ci);\n\t\t\tci += 2;\n\t\t}\n\t\telse {\n\t\t\tci = 0;\n\t\t}\n\n\t\t/* handler index */\n\t\tvar hi = tx.indexOf('::');\n\t\tif (hi > -1) {\n\t\t\tdat = tx.substring(ci, hi);\n\t\t\than = tx.substring(hi + 2);\n\t\t}\n\t\telse {\n\t\t\tdat = tx.substring(ci);\n\t\t}\n\t\treturn this._createActiveElement(con, dat, han, this, templateMeta);\n\t}\n\n\ttokenizeTemplate(tx) {\n\t\treturn this.tokenizeActiveAndInactiveBlocks(tx, this.constants.templateBoundary);\n\t}\n\n\n\t/** tokenize template script */\n\ttokenizeTemplateScript(tx) {\n\t\treturn this.tokenizeActiveAndInactiveBlocks(tx, this.constants.templateNameBoundary);\n\t}\n\n\t/* tokenize active and inactive blocks */\n\ttokenizeActiveAndInactiveBlocks(text, /*Active Region Boundary */ boundary) {\n\t\t/* whole length */\n\t\tlet length = text.length\n\n\t\t/* current position */\n\t\tlet position = 0\n\n\t\t/* are we in an active region */\n\t\tlet act = false\n\n\t\tlet tokens = []\n\n\t\twhile (position < length) {\n\t\t\tlet i = text.indexOf(boundary, position);\n\t\t\tif (i == -1) {\n\t\t\t\ti = length;\n\t\t\t}\n\t\t\tvar tk = { active: act, content: text.substring(position, i) };\n\t\t\ttokens.push(tk);\n\t\t\tposition = i + boundary.length;\n\t\t\tact = !act;\n\t\t}\n\n\t\treturn tokens;\n\t}\n\n}\nvar tripartiteInstance = new Tripartite()\n\nif (typeof window != 'undefined') {\n\ttripartiteInstance.secondaryTemplateFunctionObject = window\n}\n\n\nif (typeof module !== 'undefined') {\n\tmodule.exports = tripartiteInstance\n}\nelse {\n\twindow.Tripartite = tripartiteInstance\n}\n\nif (typeof global != 'undefined') {\n\tif (!global.Tripartite) {\n\t\tglobal.Tripartite = Tripartite\n\t}\n\tif (!global.tripartite) {\n\t\tglobal.tripartite = tripartiteInstance\n\t}\n}\n\n","var tri = require(\"tripartite\"); var t = \"\\t\\t<span class=\\\"cancel-operation material-icons\\\" title=\\\"cancel\\\">\\n\\t\\t\\tcancel\\n\\t\\t<\\/span>\"; \nmodule.exports = tri.addTemplate(\"@webhandle/event-notification-panel/panels/cancel-button\", t); ","var tri = require(\"tripartite\"); var t = \"<div class=\\\"cancel-mask\\\">\\n\\tAttempting to Cancel Operation\\t\\n<\\/div>\"; \nmodule.exports = tri.addTemplate(\"@webhandle/event-notification-panel/panels/cancel-mask\", t); ","var tri = require(\"tripartite\"); var t = \"\\t\\t<span class=\\\"expand-message material-icons\\\" title=\\\"view more\\\">\\n\\t\\t\\texpand_more\\n\\t\\t<\\/span>\"; \nmodule.exports = tri.addTemplate(\"@webhandle/event-notification-panel/panels/expand-more\", t); ","var tri = require(\"tripartite\"); var t = \"\\t\\t<div class=\\\"message-holder\\\">\\n\\t\\t\\t<div class=\\\"message\\\">\\n\\t\\t\\t\\t__message__\\n\\t\\t\\t<\\/div>\\n\\t\\t<\\/div>\"; \nmodule.exports = tri.addTemplate(\"@webhandle/event-notification-panel/panels/message-holder\", t); ","var tri = require(\"tripartite\"); var t = \"\\n\\t\\t<div class=\\\"top\\\">\\n\\t\\t\\t<span class=\\\"icon\\\">\\n\\t\\t\\t\\t<span class=\\\"material-icons\\\">__status::@webhandle\\/event-notification-panel\\/utils\\/iconForStatus__<\\/span>\\n\\t\\t\\t<\\/span>\\n\\t\\t\\t<span class=\\\"headline\\\">\\n\\t\\t\\t\\t__headline__\\n\\t\\t\\t<\\/span>\\n\\t\\t<\\/div>\"; \nmodule.exports = tri.addTemplate(\"@webhandle/event-notification-panel/panels/notification-top\", t); ","var tri = require(\"tripartite\"); var t = \"<div class=\\\"notification __status__\\\">\\n\\t<div class=\\\"info\\\">\\n\\t\\t__::.\\/notification-top__\\n\\t\\t__message??this::.\\/message-holder__\\n\\t\\t<div class=\\\"progress\\\">\\n\\t\\t\\t<div class=\\\"numeric-holder\\\">\\n\\t\\t\\t\\t<span class=\\\"numeric\\\">__progressComplete__<\\/span>%\\n\\t\\t\\t<\\/div>\\n\\t\\t\\t<div class=\\\"bar\\\">\\n\\t\\t\\t\\t<div class=\\\"made\\\" style=\\\"margin-left: __progressComplete__%;\\\"><\\/div>\\n\\t\\t\\t<\\/div>\\n\\t\\t<\\/div>\\n\\t<\\/div>\\n\\t<div class=\\\"actions\\\">\\n\\t\\t<span class=\\\"remove-notification material-icons\\\" title=\\\"close\\\">\\n\\t\\t\\tclose\\n\\t\\t<\\/span>\\n\\t\\t__message??this::.\\/expand-more__\\n\\t\\t__cancelable??this::.\\/cancel-button__\\n\\t<\\/div>\\n<\\/div>\"; \nmodule.exports = tri.addTemplate(\"@webhandle/event-notification-panel/panels/progress-message\", t); ","var tri = require(\"tripartite\"); var t = \"<div class=\\\"notification __status__\\\">\\n\\t<div class=\\\"info\\\">\\n\\t\\t__::.\\/notification-top__\\n\\t\\t__message??this::.\\/message-holder__\\n\\t<\\/div>\\n\\t<div class=\\\"actions\\\">\\n\\t\\t<span class=\\\"remove-notification material-icons\\\" title=\\\"close\\\">\\n\\t\\t\\tclose\\n\\t\\t<\\/span>\\n\\t\\t__message??this::.\\/expand-more__\\n\\t<\\/div>\\n<\\/div>\"; \nmodule.exports = tri.addTemplate(\"@webhandle/event-notification-panel/panels/simple-message\", t); ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import tri from 'tripartite';\n\nlet init = false\n\nlet icons = {\n\tsuccess: 'done'\n\t, error: 'error'\n\t, warning: 'warning'\n\t, info: 'info'\n\t, waiting: 'pending'\n\t, performing: 'swap_horiz'\n\t, unknown: 'question_mark'\n}\n\nexport default function addJsTemplates() {\n\t\n\tif(!init) {\n\t\tinit = true\n\t\ttri.addTemplate('@webhandle/event-notification-panel/utils/iconForStatus', (status) => {\n\t\t\tif(status in icons) {\n\t\t\t\treturn icons[status]\n\t\t\t}\n\t\t\tif(!status) {\n\t\t\t\treturn status\n\t\t\t}\n\t\t\treturn icons.info\n\t\t})\n\t}\n\n}","import addJsTemplates from './add-js-templates.mjs';\n\nlet initialized = false\n\nexport default function init() {\n\n\tif(!initialized) {\n\t\tinitialized = true\n\t\taddJsTemplates()\n\t}\n}\n","export default function eventEntryMapper([key, value]) {\n\tkey = key.trim()\n\tlet parts = key.split(' ')\n\tlet event = parts.shift().trim()\n\tlet selector = parts.join(' ').trim()\n\t\n\tif(typeof value === 'string') {\n\t\tvalue = value.trim()\n\t}\t\n\t\n\treturn {\n\t\tevent: event,\n\t\tselector: selector,\n\t\thandler: value\n\t}\n}","import generateId from \"./generate-id.js\"\n// import pick from \"./pick.js\"\nimport eventEntryMapper from \"./event-entry-mapper.js\"\nimport extractEventNames from \"./extract-event-names.js\"\n\nlet defaultOptions = {\n\t// The default `tagName` of a View's element is `\"div\"`.\n\ttagName: 'div'\n\t\n\t, events: {}\n\n}\nlet viewOptions = ['model', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n/**\n * A way to connect data to be displayed, a way to display it, and an organization\n * of functions to handle events.\n */\nexport class View {\n\tconstructor(options) {\n\t\tthis.id = generateId()\n\t\tObject.assign(this, defaultOptions)\n\t\tthis.preinitialize.apply(this, arguments);\n\t\tObject.assign(this, options)\n\t\tthis._ensureElement()\n\t\tthis.initialize.apply(this, arguments);\n\t}\n\n\n\t/**\n\t * preinitialize is an empty function by default. You can override it with a function\n\t * or object.  preinitialize will run before any instantiation logic is run in the View\n\t */\n\tpreinitialize() { }\n\n\t/**\n\t * Initialize is an empty function by default. Override it with your own\n\t * initialization logic.\n\t */\n\tinitialize() { }\n\n\t/**\n\t * **render** is the core function that your view should override, in order\n\t * to populate its element (`this.el`), with the appropriate HTML. The\n\t * convention is for **render** to always return `this`.\n\t * @returns this\n\t */\n\trender() {\n\t\treturn this\n\t}\n\t\n\t/**\n\t * Removes the element from the dom. Does not disable event listeners\n\t */\n\tremove() {\n\t\tthis.el.parentElement.removeChild(this.el)\n\t}\n\t\n\t/**\n\t * Adds this view as a child to a containing element. Nothing special is going on here.\n\t * This is just a shortcut for container.appendChild\n\t * @param {Element} container \n\t */\n\tappendTo(container) {\n\t\tcontainer.appendChild(this.el)\n\t}\n\n\t/**\n\t * Clears the contents of the container and adds this view.\n\t * @param {Element} container \n\t */\n\treplaceContentsOf(container) {\n\t\tcontainer.innerHTML = ''\n\t\tthis.appendTo(container)\n\t}\n\n\t/**\n\t * Set the element for this view, and if new, adds listeners to it in accordance\n\t * with the \"events\" member.\n\t * @param {Element} el The dom element which will be the root of this view\n\t * @returns this\n\t */\n\tsetElement(el) {\n\t\tif (this.el !== el) {\n\t\t\tthis.el = el\n\t\t\tthis._addListeners()\n\t\t}\n\t\treturn this\n\t}\n\n\t/**\n\t * Produces a DOM element to be assigned to your view. Exposed for\n\t * subclasses using an alternative DOM manipulation API.\n\t * @param {string} name The element tag name\n\t * @returns The dom element\n\t */\n\t_createElement(name) {\n\t\tlet el = document.createElement(name)\n\t\tel.setAttribute('id', this.id)\n\t\tel.view = this\n\t\treturn el\n\t}\n\n\t/**\n\t * Ensures that the element exists. Applies attributes and className\n\t * to it regardless\n\t */\n\t_ensureElement() {\n\t\tif (!this.el) {\n\t\t\tthis.setElement(this._createElement(this.tagName))\n\t\t}\n\t\tthis._setAttributes()\n\t\tif (this.className) {\n\t\t\tthis.el.classList.add(this.className)\n\t\t}\n\t}\n\n\t/**\n\t * Set attributes from a hash on this view's element.  Exposed for\n\t * subclasses using an alternative DOM manipulation API.\n\t * @param {object} attributes \n\t */\n\t_setAttributes(attributes) {\n\t\tif (this.attributes) {\n\t\t\tfor (let [key, value] of Object.entries(this.attributes)) {\n\t\t\t\tthis.el.setAttribute(key, value)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * \n\t * Set callbacks, where `this.events` is a hash of\n\t * *{\"event selector\": \"callback\"}*\n\t *\n\t *    {\n\t *       'mousedown .title':  'edit',\n\t *       'click .button':     'save',\n\t *       'click .open':       function(e) { ... },\n\t *       'keydown .':     \t  'handleKey'\n\t *    }\n\t * pairs. Callbacks will be bound to the view, with `this` set properly.\n\t * \n\t * \n\t * Note that the selector `.` will match the root element and can be used\n\t * as a final chance to handle events or for events like an escape key\n\t * which are essentially global to the widget.\n\t * \n\t */\n\t_addListeners() {\n\t\tthis.eventTriggers = Object.entries(this.events).map(eventEntryMapper)\n\t\tlet eventNames = extractEventNames(this.eventTriggers)\t\t\n\n\t\tfor(let eventName of eventNames) {\n\t\t\tthis.el.addEventListener(eventName, this._eventHandler.bind(this))\n\t\t}\n\t}\n\t\n\t/**\n\t * Get the elements from the view which match the selector\n\t * @param {string} selector A css selector. `.` will select the root element\n\t * @returns An array of elements\n\t */\n\t_getCandidates(selector) {\n\t\tif(selector === '.') {\n\t\t\treturn [this.el]\n\t\t}\n\t\treturn Array.from(this.el.querySelectorAll(selector))\n\t}\n\t\n\t/**\n\t * Handles all events for all elements within the view. It attempts to find a\n\t * trigger matching the event and then process it. It will match and invoke\n\t * only one trigger.\n\t * @param {Event} evt \n\t */\n\t_eventHandler(evt) {\n\t\tfor(let trigger of this.eventTriggers) {\n\t\t\tif(evt.type == trigger.event) {\n\t\t\t\tlet candidates = this._getCandidates(trigger.selector)\n\t\t\t\tlet found = null\n\t\t\t\tfor(let candidate of candidates) {\n\t\t\t\t\tif(candidate === evt.target || candidate.contains(evt.target)) {\n\t\t\t\t\t\tfound = candidate\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(found) {\n\t\t\t\t\tif(typeof trigger.handler === 'string') {\n\t\t\t\t\t\tthis[trigger.handler].call(this, evt, found)\n\t\t\t\t\t}\t\n\t\t\t\t\telse if(typeof trigger.handler === 'function') {\n\t\t\t\t\t\ttrigger.handler.call(this, evt, found)\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/**\n * Generates a random string id in the browser. Will probably not work\n * on the server.\n * @returns A base64 web url safe string\n */\nexport default function generateId() {\n\tlet array = new Uint8Array(32)\n\twindow.crypto.getRandomValues(array)\n\tlet value = btoa(array)\n\tvalue = value.replace(/\\//g, \"_\").replace(/\\+/g, \"-\").replace(/=+$/, \"\")\n\treturn value\n}","export default function extractEventNames(eventTriggers) {\n\tlet eventNames = Array.from(eventTriggers.reduce((acc, trigger) => {\n\t\tacc.add(trigger.event)\n\t\treturn acc\n\t}, new Set()))\n\treturn eventNames\n}","/**\n * Add this most basic of the EventEmitter functions (on, emit, removeListener) to the browser's\n * EventTarget functionality.\n * \n * The eventEmitter.emit() method allows an arbitrary set of arguments to be passed to the listener \n * functions. Keep in mind that when an ordinary listener function is called, the standard this \n * keyword is intentionally set to reference the EventEmitter instance to which the listener is attached.\n */\nexport default class EventEmitter extends EventTarget {\n\t/**\n\t * Adds the listener function to the end of the listeners array for the event named eventName. No checks \n\t * are made to see if the listener has already been added. Multiple calls passing the same combination \n\t * of eventName and listener will result in the listener being added, and called, multiple times.\n\t * @param {string} eventName The event type name\n\t * @param {*} listener The listener function where has arbitrary arguments\n\t */\n\ton(eventName, listener) {\n\t\tlet nativeListener = (event) => {\n\t\t\tlistener.apply(this, event.detail)\n\t\t}\n\t\tlistener.nativeListener = nativeListener\n\t\tthis.addEventListener(eventName, nativeListener)\n\t}\n\n\t/**\n\t * Synchronously calls each of the listeners registered for the event named eventName, in the order \n\t * they were registered, passing the supplied arguments to each.\n\t * \n\t * @param {string} eventName The event type name\n\t * @param  {...any} args \n\t */\n\temit(eventName, ...args) {\n\t\tthis.dispatchEvent(new CustomEvent(eventName, {\n\t\t\tdetail: args\n\t\t}))\n\t}\n\n\t/**\n\t * Removes the specified listener from the listener array for the event named eventName.\n\t * @param {string} eventName The event type name\n\t * @param {function} listener The listener function\n\t */\n\tremoveListener(eventName, listener) {\n\t\tlistener = listener.nativeListener || listener\n\t\tthis.removeEventListener(eventName, listener)\n\t}\n\n}","/**\n * @typedef {object} NotificationStatus\n */\nexport default {\n\n\tSUCCESS: 'success'\n\t, INFO: 'info'\n\t, ERROR: 'error'\n\t, WARNING: 'warning'\n\t, WAITING: 'waiting'\n\t, PERFORMING: 'performing'\n\t, UNKNOWN: 'unknown'\n}","import { View } from '@webhandle/backbone-view'\nimport { simpleMessage, progressMessage, cancelMask } from \"../views/load-browser-views.js\"\nimport EventEmitter from '@webhandle/minimal-browser-event-emitter'\nimport NotificationStatus from \"./notification-status.mjs\"\nimport init from './init.mjs'\n\ninit()\n\n/**\n * @property {EventTarget} notification Fires events on notification lifecycle and can trigger\n * rerendering. Events sent are: initialize, nodeAdd, render, expandMessage, cancel, startRemove, remove\n * It listens for the events: modelUpdate\n */\nexport default class EventNotificationView extends View {\n\t/**\n\t * \n\t * @param {object} options \n\t * @param {object} options.model Could be anything, but probably a Notification object is best.\n\t * @param {boolean} [options.closed] True if the event should start closed (true is default)\n\t * @param {boolean} [options.ttl] The time to live in ms before this event is automatically removed\n\t * \n\t */\n\tconstructor(options = {}) {\n\t\tsuper(options)\n\t}\n\n\tpreinitialize() {\n\t\tthis.events = {\n\t\t\t'click .expand-message': 'expandMessage',\n\t\t\t'click .cancel-operation': 'cancelOperation',\n\t\t\t'click .remove-notification': 'removeSlowly'\n\t\t}\n\t\tthis.className = 'event-notification-view'\n\t\tthis.notification = new EventEmitter()\n\t\tthis.notification.on('modelUpdate', this.modelUpdate.bind(this))\n\t\t\n\t\t/**\n\t\t * The time by which we can assume that some failure occurred and\n\t\t * this event will not be added.\n\t\t */\n\t\tthis.failToAddTime = 10000\n\t}\n\n\tinitialize() {\n\t\tif (this.closed) {\n\t\t\tthis.el.classList.add('closed')\n\t\t}\n\t\tthis.notification.emit('initialize', this)\n\t\tif(this._isComplete()) {\n\t\t\t// We only want to set up ttl if we're complete\n\t\t\tthis._setupWatchNodeInsertion()\n\t\t}\n\t}\n\t\n\tmodelUpdate() {\n\t\tif(this._isProgressType()) {\n\t\t\tthis.el.querySelector('.made').style.marginLeft = this.model.progressComplete + '%'\n\t\t\tthis.el.querySelector('.numeric').innerText = '' + this.model.progressComplete\n\t\t}\n\t}\n\t\n\t_isComplete() {\n\t\tif(this.model.status === NotificationStatus.SUCCESS ||\n\t\t\tthis.model.status === NotificationStatus.INFO ||\n\t\t\tthis.model.status === NotificationStatus.WARNING ||\n\t\t\tthis.model.status === NotificationStatus.UNKNOWN ||\n\t\t\tthis.model.status === NotificationStatus.ERROR\n\t\t\t) {\n\t\t\t\treturn true\n\t\t\t}\n\t\treturn false\n\t}\n\t_isProgressType() {\n\t\treturn this.model.progressComplete !== null && this.model.progressComplete !== undefined\n\t}\n\t\n\t/**\n\t * \n\t * This is a big mess to listen for the add event for this.el\n\t * We need to know when the event is added to be able to remove\n\t * it after the ttl. It might be possible just to assume that the creation\n\t * time represents the add time, and that's what I'll do if this is\n\t * a performance drag. \n\t * \n\t * If not found to be added after 10 seconds, we'll clean up the observer\n\t * so as not to leak memory and computation.\n\t */\n\t_setupWatchNodeInsertion() {\n\t\tlet disconnected = false\n\t\tconst config = { attributes: false, childList: true, subtree: true };\n\t\tconst observer = new MutationObserver((mutationList, observer) => {\n\t\t\tlet found = false\n\t\t\tallMutations: for (let mutation of mutationList) {\n\t\t\t\tif (mutation.type === \"childList\" && mutation.addedNodes && mutation.addedNodes.length > 0) {\n\t\t\t\t\tfor (let node of mutation.addedNodes.values()) {\n\t\t\t\t\t\tif (node == this.el) {\n\t\t\t\t\t\t\tfound = true\n\t\t\t\t\t\t\tbreak allMutations\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (found) {\n\t\t\t\tobserver.disconnect()\n\t\t\t\tdisconnected = true\n\t\t\t\tthis.notification.emit('nodeAdd', this)\n\t\t\t\tif(this.ttl) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.removeSlowly()\n\t\t\t\t\t}, this.ttl)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\tobserver.observe(document.body, config)\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tif(!disconnected) {\n\t\t\t\tobserver.disconnect()\n\t\t\t\tdisconnected = true\n\t\t\t}\n\t\t}, this.failToAddTime)\t\n\t}\n\n\trender() {\n\t\tlet templ\n\t\tif(this._isProgressType()) {\n\t\t\ttempl = progressMessage\n\t\t}\n\t\telse {\n\t\t\ttempl = simpleMessage\n\t\t}\n\n\t\tthis.el.innerHTML = templ(this.model)\n\t\tthis.notification.emit('render', this)\n\t\treturn this\n\t}\n\n\t/**\n\t * Show the additional information message.\n\t */\n\texpandMessage() {\n\t\tthis.el.classList.remove('closed')\n\t\tthis.notification.emit('expandMessage', this)\n\t}\n\n\t/**\n\t * Emit a 'cancel' event, add a mask that indicates it's being canceled\n\t * and remove the cancel button\n\t */\n\tcancelOperation() {\n\t\tthis.notification.emit('cancel', this)\n\t\tthis.el.querySelector('.notification').insertAdjacentHTML('beforeend', cancelMask())\n\t\tthis.el.querySelector('.cancel-operation').remove()\n\t}\n\t\n\tremove() {\n\t\tif(this.el.parentElement) {\n\t\t\tthis.notification.emit('remove', this)\n\t\t\tsuper.remove()\n\t\t}\n\t}\n\n\t/**\n\t * Transition the notification to zero opacity and then remove\n\t */\n\tremoveSlowly() {\n\t\tthis.notification.emit('startRemove', this)\n\t\taddEventListener(\"transitionend\", (event) => {\n\t\t\tthis.remove()\n\t\t})\n\t\tthis.el.style.opacity = 0\n\t}\n}","import { View } from '@webhandle/backbone-view'\nimport EventNotificationView from './event-notification-view.mjs';\n\nexport default class EventNotificationPanel extends View {\n\tconstructor(options) {\n\t\tsuper(options)\n\t}\n\n\tpreinitialize() {\n\t\tthis.className = 'webhandle-event-notifications'\n\t}\n\n\trender() {\n\t\treturn this\n\t}\n\t\n\t/**\n\t * Remove the markup for all notifications\n\t */\n\tremoveAllNotifications() {\n\t\tthis.el.innerHTML = ''\n\t}\n\n\t/**\n\t * \n\t * @param {object} options \n\t * @param {object} options.model Represents the status data to show. Should be an instance of\n\t * @webhandle/event-notification-panel/client-js/notification.js\n\t * @param {integer} [options.ttl] The time in milliseconds to wait before removing the message\n\t * automatically.\n\t * @param {boolean} [options.closed] Controls whether the notification message starts closed. Default is true\n\t * @returns An EventNotificationView object\n\t */\n\taddNotification(options) {\n\t\tlet ev = new EventNotificationView(options)\n\t\tev.render()\n\t\tthis.el.insertBefore(ev.el, this.el.firstChild)\n\t\treturn ev\n\t}\n}","import init from './init.mjs'\nimport EventNotificationPanel from './event-notification-panel.mjs';\n\n/**\n * \n * @param {object} options\n * @param {string} options.notificationHolder The query selector for the holder of the\n * EventNotificationsPanel\n * @returns \n */\nexport default function webhandleEnvSetup({notificationHolder = '#event-notifications'} = {}) {\n\tlet webhandle = window.webhandle = window.webhandle || {}\n\n\tinit()\n\n\tlet holder = document.querySelector(notificationHolder)\n\tlet panel = webhandle.eventPanel = new EventNotificationPanel()\n\tpanel.appendTo(holder)\n\tpanel.render()\n\n\treturn panel\n}\n","import NotificationStatus from \"./notification-status.mjs\"\n\n/**\n * @property {string} status One of the values of NotificaitonStatus\n * @property {string} headline\n * @property {string} message\n * @property {integer} progressComplete How much progress has been made as percent. Needed only \n * if this is supposed to show a progress notification.\n * @param {boolean} [options.cancelable] True if the operation can be canceled and a cancel button should\n * be shown. The default is false. This will only effect notifcations which are not complete.\n */\nexport default class Notification {\n\tconstructor(options) {\n\t\tObject.assign(this, options)\n\t}\n}"],"names":["module","exports","constructor","conditionalExpression","dataExpression","handlingExpression","tripartite","this","parentPath","currentPath","indexOf","pparts","split","cparts","length","shift","pop","push","join","resolveDataPath","evalFunction","Function","_evaluateInContext","context","expression","dataFunctions","globalData","call","trim","resolved","ActiveElement","calculateRelativePath","evaluateInContext","template","data","destination","initialData","currentData","continueOnTripartiteError","run","callback","ourCallback","_run","_resolveHandlingExpression","defaultTemplateName","charAt","substring","templateMeta","name","parts","reverse","processParts","part","output","resultData","conditional","conditionalResult","undefined","Array","isArray","handlingTemplate","children","applyTemplate","child","templates","getTemplate","loadTemplate","msg","console","error","err","Error","write","value","path","isStream","stream","pipe","String","prototype","replace","ExecutionContext","Tripartite","options","defaultTemplate","_makeTemplate","thedata","constants","templateBoundary","templateNameBoundary","secondaryTemplateFunctionObject","loaders","dataFunction","transformationFunction","obj","tri","f","i","arguments","arg","apply","addTemplate","parseTemplate","createBlank","count","done","forEach","loader","parseTemplateScript","tx","tks","tokenizeTemplateScript","ctn","token","active","content","stripTemplateWhitespace","txt","lastIndexOf","_createActiveElement","cd","hd","el","pt","tokenizeTemplate","t","tk","tokenizeActivePart","con","dat","han","ci","hi","tokenizeActiveAndInactiveBlocks","text","boundary","position","act","tokens","tripartiteInstance","window","g","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","globalThis","e","prop","hasOwnProperty","init","icons","success","warning","info","waiting","performing","unknown","addJsTemplates","status","initialized","eventEntryMapper","event","selector","handler","defaultOptions","tagName","events","View","id","array","Uint8Array","crypto","getRandomValues","btoa","generateId","assign","preinitialize","_ensureElement","initialize","render","remove","parentElement","removeChild","appendTo","container","appendChild","replaceContentsOf","innerHTML","setElement","_addListeners","_createElement","document","createElement","setAttribute","view","_setAttributes","className","classList","add","attributes","entries","eventTriggers","map","eventNames","from","reduce","acc","trigger","Set","eventName","addEventListener","_eventHandler","bind","_getCandidates","querySelectorAll","evt","type","candidates","found","candidate","target","contains","EventEmitter","EventTarget","on","listener","nativeListener","detail","emit","args","dispatchEvent","CustomEvent","removeListener","removeEventListener","SUCCESS","INFO","ERROR","WARNING","WAITING","PERFORMING","UNKNOWN","EventNotificationView","super","notification","modelUpdate","failToAddTime","closed","_isComplete","_setupWatchNodeInsertion","_isProgressType","querySelector","style","marginLeft","model","progressComplete","innerText","disconnected","observer","MutationObserver","mutationList","allMutations","mutation","addedNodes","node","values","disconnect","ttl","setTimeout","removeSlowly","observe","body","childList","subtree","templ","expandMessage","cancelOperation","insertAdjacentHTML","opacity","EventNotificationPanel","removeAllNotifications","addNotification","ev","insertBefore","firstChild","webhandleEnvSetup","notificationHolder","webhandle","holder","panel","eventPanel","Notification"],"sourceRoot":""}